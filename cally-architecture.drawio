<mxfile host="65bd71144e">
    <diagram name="Cally Architecture" id="architecture-diagram">
        <mxGraphModel dx="1536" dy="970" grid="1" gridSize="10" guides="1" tooltips="1" connect="1" arrows="1" fold="1" page="1" pageScale="1" pageWidth="1100" pageHeight="850" math="0" shadow="0">
            <root>
                <mxCell id="0"/>
                <mxCell id="1" parent="0"/>
                <mxCell id="title" value="Cally - AI-Powered Calendar Architecture" style="text;html=1;strokeColor=none;fillColor=none;align=center;verticalAlign=middle;whiteSpace=wrap;rounded=0;fontSize=24;fontStyle=1" parent="1" vertex="1">
                    <mxGeometry x="200" y="20" width="700" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="client-layer" value="Client Layer" style="swimlane;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1;fontSize=14;startSize=30;" parent="1" vertex="1">
                    <mxGeometry x="230" y="70" width="640" height="170" as="geometry"/>
                </mxCell>
                <mxCell id="browser" value="Browser/User Client" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;fontStyle=1" parent="client-layer" vertex="1">
                    <mxGeometry x="250" y="40" width="140" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="user-interface" value="User Interface" style="swimlane;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="client-layer" vertex="1">
                    <mxGeometry x="30" y="90" width="580" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="landing-ui" value="Landing Page" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="user-interface" vertex="1">
                    <mxGeometry x="20" y="30" width="90" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="auth-ui" value="Authentication" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="user-interface" vertex="1">
                    <mxGeometry x="120" y="30" width="90" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="dashboard-ui" value="Dashboard" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="user-interface" vertex="1">
                    <mxGeometry x="220" y="30" width="90" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="calendar-ui" value="Calendar" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="user-interface" vertex="1">
                    <mxGeometry x="320" y="30" width="90" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="pricing-ui" value="Pricing" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="user-interface" vertex="1">
                    <mxGeometry x="420" y="30" width="70" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="feedback-ui" value="Feedback" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#dae8fc;strokeColor=#6c8ebf;" parent="user-interface" vertex="1">
                    <mxGeometry x="500" y="30" width="70" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="frontend-layer" value="Next.js Frontend Application Layer" style="swimlane;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontStyle=1;fontSize=14;startSize=30;" parent="1" vertex="1">
                    <mxGeometry x="80" y="280" width="940" height="210" as="geometry"/>
                </mxCell>
                <mxCell id="next-app" value="Next.js Application" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontStyle=1" parent="frontend-layer" vertex="1">
                    <mxGeometry x="410" y="40" width="120" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="app-router" value="App Router" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;fontStyle=1" parent="frontend-layer" vertex="1">
                    <mxGeometry x="410" y="90" width="120" height="40" as="geometry"/>
                </mxCell>
                <mxCell id="components" value="React Components" style="swimlane;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="frontend-layer" vertex="1">
                    <mxGeometry x="30" y="140" width="550" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="landing-components" value="Landing" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="components" vertex="1">
                    <mxGeometry x="10" y="30" width="70" height="25" as="geometry"/>
                </mxCell>
                <mxCell id="auth-components" value="Auth" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="components" vertex="1">
                    <mxGeometry x="90" y="30" width="70" height="25" as="geometry"/>
                </mxCell>
                <mxCell id="dashboard-components" value="Dashboard" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="components" vertex="1">
                    <mxGeometry x="170" y="30" width="70" height="25" as="geometry"/>
                </mxCell>
                <mxCell id="calendar-components" value="Calendar" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="components" vertex="1">
                    <mxGeometry x="250" y="30" width="70" height="25" as="geometry"/>
                </mxCell>
                <mxCell id="pricing-components" value="Pricing" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="components" vertex="1">
                    <mxGeometry x="330" y="30" width="70" height="25" as="geometry"/>
                </mxCell>
                <mxCell id="feedback-components" value="Feedback" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="components" vertex="1">
                    <mxGeometry x="410" y="30" width="70" height="25" as="geometry"/>
                </mxCell>
                <mxCell id="shared-components" value="Shared" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="components" vertex="1">
                    <mxGeometry x="490" y="30" width="50" height="25" as="geometry"/>
                </mxCell>
                <mxCell id="state-management" value="State Management" style="swimlane;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="frontend-layer" vertex="1">
                    <mxGeometry x="600" y="140" width="310" height="60" as="geometry"/>
                </mxCell>
                <mxCell id="auth-context" value="Authentication Context" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="state-management" vertex="1">
                    <mxGeometry x="20" y="30" width="130" height="25" as="geometry"/>
                </mxCell>
                <mxCell id="user-state" value="User State" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#d5e8d4;strokeColor=#82b366;" parent="state-management" vertex="1">
                    <mxGeometry x="160" y="30" width="130" height="25" as="geometry"/>
                </mxCell>
                <mxCell id="server-layer" value="Server Layer" style="swimlane;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;fontStyle=1;fontSize=14;startSize=30;" parent="1" vertex="1">
                    <mxGeometry x="80" y="520" width="940" height="120" as="geometry"/>
                </mxCell>
                <mxCell id="api-layer" value="Next.js API Routes" style="swimlane;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="server-layer" vertex="1">
                    <mxGeometry x="30" y="40" width="870" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="google-calendar-api" value="Google Calendar Integration" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="api-layer" vertex="1">
                    <mxGeometry x="20" y="30" width="160" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="analyze-event-api" value="AI Event Analysis" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="api-layer" vertex="1">
                    <mxGeometry x="190" y="30" width="160" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="parse-date-api" value="Natural Language Date Parsing" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="api-layer" vertex="1">
                    <mxGeometry x="360" y="30" width="160" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="lemonsqueezy-api" value="Payment Processing" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="api-layer" vertex="1">
                    <mxGeometry x="530" y="30" width="160" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="webhook-api" value="External Webhooks" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#ffe6cc;strokeColor=#d79b00;" parent="api-layer" vertex="1">
                    <mxGeometry x="700" y="30" width="160" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="external-services" value="External Services" style="swimlane;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;fontStyle=1;fontSize=14;startSize=30;" parent="1" vertex="1">
                    <mxGeometry y="670" width="450" height="120" as="geometry"/>
                </mxCell>
                <mxCell id="google-calendar" value="Google Calendar API" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="external-services" vertex="1">
                    <mxGeometry x="30" y="40" width="180" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="ai-services" value="AI Services (Google &amp; OpenAI)" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="external-services" vertex="1">
                    <mxGeometry x="240" y="40" width="180" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="lemon-squeezy" value="LemonSqueezy Payments" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="external-services" vertex="1">
                    <mxGeometry x="30" y="80" width="180" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="analytics" value="Vercel Analytics &amp; Insights" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#e1d5e7;strokeColor=#9673a6;" parent="external-services" vertex="1">
                    <mxGeometry x="240" y="80" width="180" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="database-layer" value="Database Layer" style="swimlane;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;fontStyle=1;fontSize=14;startSize=30;" parent="1" vertex="1">
                    <mxGeometry x="490" y="670" width="590" height="120" as="geometry"/>
                </mxCell>
                <mxCell id="firebase-services" value="Firebase Services" style="swimlane;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" parent="database-layer" vertex="1">
                    <mxGeometry x="30" y="40" width="550" height="70" as="geometry"/>
                </mxCell>
                <mxCell id="firebase-auth" value="Authentication" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" parent="firebase-services" vertex="1">
                    <mxGeometry x="20" y="30" width="100" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="firestore" value="Firestore Database" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" parent="firebase-services" vertex="1">
                    <mxGeometry x="130" y="30" width="80" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="users-collection" value="Users" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" parent="firebase-services" vertex="1">
                    <mxGeometry x="220" y="30" width="40" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="calendars-collection" value="Calendars" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" parent="firebase-services" vertex="1">
                    <mxGeometry x="270" y="30" width="60" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="colorcodes-collection" value="ColorCodes" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" parent="firebase-services" vertex="1">
                    <mxGeometry x="340" y="30" width="70" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="4" value="Events" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="firebase-services">
                    <mxGeometry x="420" y="30" width="50" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="12" value="Feedback" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#f8cecc;strokeColor=#b85450;" vertex="1" parent="firebase-services">
                    <mxGeometry x="480" y="30" width="60" height="30" as="geometry"/>
                </mxCell>
                <mxCell id="infrastructure" value="Infrastructure" style="swimlane;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;fontStyle=1;fontSize=14;startSize=30;" parent="1" vertex="1">
                    <mxGeometry x="80" y="820" width="900" height="100" as="geometry"/>
                </mxCell>
                <mxCell id="deployment" value="Vercel Deployment" style="swimlane;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="infrastructure" vertex="1">
                    <mxGeometry x="10" y="35" width="450" height="55" as="geometry"/>
                </mxCell>
                <mxCell id="edge-function" value="Edge" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="deployment" vertex="1">
                    <mxGeometry x="10" y="30" width="80" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="serverless-function" value="Serverless" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="deployment" vertex="1">
                    <mxGeometry x="100" y="30" width="80" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="static-generation" value="Static Generation" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="deployment" vertex="1">
                    <mxGeometry x="190" y="30" width="110" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="server-rendering" value="Server-Side Rendering" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="deployment" vertex="1">
                    <mxGeometry x="310" y="30" width="130" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="styling" value="UI Technology" style="swimlane;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="infrastructure" vertex="1">
                    <mxGeometry x="480" y="35" width="410" height="55" as="geometry"/>
                </mxCell>
                <mxCell id="tailwind" value="Tailwind CSS" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="styling" vertex="1">
                    <mxGeometry x="10" y="30" width="90" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="heroicons" value="HeroIcons" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="styling" vertex="1">
                    <mxGeometry x="110" y="30" width="90" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="reacticons" value="React Icons" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="styling" vertex="1">
                    <mxGeometry x="210" y="30" width="90" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="reactcolorful" value="React Colorful" style="rounded=1;whiteSpace=wrap;html=1;fillColor=#fff2cc;strokeColor=#d6b656;" parent="styling" vertex="1">
                    <mxGeometry x="310" y="30" width="90" height="20" as="geometry"/>
                </mxCell>
                <mxCell id="client-to-frontend" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;startArrow=classic;startFill=1;" parent="1" source="client-layer" target="frontend-layer" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="550" y="250"/>
                            <mxPoint x="550" y="250"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="client-to-frontend-label" value="HTTP/HTTPS" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="client-to-frontend" connectable="0" vertex="1">
                    <mxGeometry x="-0.0667" y="-1" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="frontend-to-server" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;startArrow=classic;startFill=1;" parent="1" target="server-layer" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <mxPoint x="550" y="490" as="sourcePoint"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="frontend-to-server-label" value="Internal API Calls" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="frontend-to-server" connectable="0" vertex="1">
                    <mxGeometry x="-0.0333" y="1" relative="1" as="geometry">
                        <mxPoint as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="server-to-external" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.25;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;startArrow=classic;startFill=1;" parent="1" source="server-layer" target="external-services" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="server-to-external-label" value="External API Integration" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="server-to-external" connectable="0" vertex="1">
                    <mxGeometry x="-0.0333" y="-2" relative="1" as="geometry">
                        <mxPoint x="2" y="3" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="server-to-database" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.75;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;startArrow=classic;startFill=1;" parent="1" source="server-layer" target="database-layer" edge="1">
                    <mxGeometry relative="1" as="geometry"/>
                </mxCell>
                <mxCell id="server-to-database-label" value="Data Storage &amp; Retrieval" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="server-to-database" connectable="0" vertex="1">
                    <mxGeometry x="0.0333" y="-2" relative="1" as="geometry">
                        <mxPoint x="-2" y="3" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="layers-to-infrastructure" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;" parent="1" source="database-layer" target="infrastructure" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="795" y="800"/>
                            <mxPoint x="550" y="800"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="external-to-infrastructure" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;strokeWidth=2;" parent="1" source="external-services" target="infrastructure" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="305" y="800"/>
                            <mxPoint x="550" y="800"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="infrastructure-label" value="Hosted On" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];" parent="external-to-infrastructure" connectable="0" vertex="1">
                    <mxGeometry x="0.6143" y="-2" relative="1" as="geometry">
                        <mxPoint x="3" y="-10" as="offset"/>
                    </mxGeometry>
                </mxCell>
                <mxCell id="auth-to-firebase" style="edgeStyle=orthogonalEdgeStyle;rounded=0;orthogonalLoop=1;jettySize=auto;html=1;exitX=0.5;exitY=1;exitDx=0;exitDy=0;entryX=0.5;entryY=0;entryDx=0;entryDy=0;dashed=1;strokeWidth=1;fillColor=#f8cecc;strokeColor=#b85450;" parent="1" source="auth-components" target="firebase-auth" edge="1">
                    <mxGeometry relative="1" as="geometry">
                        <Array as="points">
                            <mxPoint x="195" y="480"/>
                            <mxPoint x="40" y="480"/>
                            <mxPoint x="40" y="640"/>
                            <mxPoint x="650" y="640"/>
                        </Array>
                    </mxGeometry>
                </mxCell>
                <mxCell id="auth-flow-label" value="Authentication Flow" style="edgeLabel;html=1;align=center;verticalAlign=middle;resizable=0;points=[];fontColor=#B85450;" parent="auth-to-firebase" connectable="0" vertex="1">
                    <mxGeometry x="0.2" y="2" relative="1" as="geometry">
                        <mxPoint x="90" y="-12" as="offset"/>
                    </mxGeometry>
                </mxCell>
            </root>
        </mxGraphModel>
    </diagram>
</mxfile>